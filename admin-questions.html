<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬¸ì œ ê´€ë¦¬ - ì´ì˜¨í† í”Œ ê´€ë¦¬ì</title>
    
    <!-- Pretendard Font -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">

    <style>
        .q-layout {
            max-width: 1100px;
            margin: 0 auto;
            padding: 32px 24px;
        }
        .q-header {
            margin-bottom: 32px;
        }
        .q-header h1 {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 8px;
        }
        .q-header p {
            font-size: 15px;
            color: #64748b;
            margin: 0;
        }
        .q-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.06);
            padding: 24px;
            margin-bottom: 24px;
        }
        .q-card-title {
            font-size: 17px;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Section selector */
        .q-section-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            font-family: 'Pretendard', sans-serif;
            color: #334155;
            background: white;
            cursor: pointer;
            transition: border-color 0.2s;
        }
        .q-section-select:focus {
            outline: none;
            border-color: #6366f1;
        }

        /* Set ID */
        .q-set-id {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #f1f5f9;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #475569;
            font-family: monospace;
        }
        .q-set-id .label {
            color: #94a3b8;
            font-family: 'Pretendard', sans-serif;
            font-weight: 500;
        }

        /* Textarea */
        .q-textarea {
            width: 100%;
            min-height: 250px;
            padding: 16px;
            border: 1px solid #d1d5db;
            border-radius: 10px;
            font-size: 14px;
            font-family: 'Pretendard', 'Georgia', serif;
            line-height: 1.8;
            resize: vertical;
            box-sizing: border-box;
            transition: border-color 0.2s;
        }
        .q-textarea:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
        }

        /* Blanks table */
        .q-blanks-summary {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
        }
        .q-blanks-summary .count {
            background: #6366f1;
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 13px;
        }
        .q-blanks-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        .q-blanks-table th {
            text-align: left;
            padding: 10px 12px;
            border-bottom: 2px solid #e2e8f0;
            color: #64748b;
            font-weight: 600;
            font-size: 13px;
        }
        .q-blanks-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #f1f5f9;
            vertical-align: middle;
        }
        .q-blanks-table tr:hover {
            background: #f8fafc;
        }
        .q-blanks-table tr.active-row {
            background: #eef2ff;
        }
        .q-blank-status {
            font-size: 12px;
            padding: 3px 10px;
            border-radius: 12px;
            font-weight: 600;
        }
        .q-blank-status.done {
            background: #dcfce7;
            color: #16a34a;
        }
        .q-blank-status.pending {
            background: #fef3c7;
            color: #d97706;
        }
        .q-blank-status.error {
            background: #fef2f2;
            color: #dc2626;
        }

        /* Blank detail form */
        .q-detail-form {
            border: 2px solid #6366f1;
            border-radius: 12px;
            padding: 20px;
            background: #fafafe;
        }
        .q-detail-form .q-detail-header {
            font-size: 15px;
            font-weight: 700;
            color: #4f46e5;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .q-detail-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 14px;
        }
        .q-detail-full {
            margin-bottom: 14px;
        }
        .q-detail-label {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .q-detail-label .optional {
            font-size: 11px;
            color: #94a3b8;
            font-weight: 400;
        }
        .q-detail-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            box-sizing: border-box;
        }
        .q-detail-input:focus {
            outline: none;
            border-color: #6366f1;
        }
        .q-detail-input[readonly] {
            background: #f1f5f9;
            color: #64748b;
            cursor: not-allowed;
        }
        .q-detail-textarea {
            width: 100%;
            min-height: 70px;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            resize: vertical;
            box-sizing: border-box;
        }
        .q-detail-textarea:focus {
            outline: none;
            border-color: #6366f1;
        }
        .q-validation {
            font-size: 12px;
            margin-top: 4px;
        }
        .q-validation.ok { color: #16a34a; }
        .q-validation.err { color: #dc2626; }

        /* Preview */
        .q-preview-passage {
            font-family: 'Georgia', 'Pretendard', serif;
            font-size: 15px;
            line-height: 2;
            color: #1e293b;
            word-break: break-word;
        }
        .q-preview-blank {
            display: inline-block;
            border-bottom: 2px solid #6366f1;
            min-width: 20px;
            text-align: center;
            color: #6366f1;
            font-weight: 700;
            font-family: monospace;
            letter-spacing: 2px;
            margin: 0 1px;
        }
        .q-preview-prefix {
            color: #1e293b;
            font-weight: 600;
        }

        /* Existing sets list */
        .q-sets-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        .q-sets-table th {
            text-align: left;
            padding: 10px 12px;
            border-bottom: 2px solid #e2e8f0;
            color: #64748b;
            font-weight: 600;
            font-size: 13px;
        }
        .q-sets-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #f1f5f9;
        }
        .q-sets-table tr:hover {
            background: #f8fafc;
        }

        /* Buttons */
        .q-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            font-family: 'Pretendard', sans-serif;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }
        .q-btn-primary {
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white;
            box-shadow: 0 2px 8px rgba(99,102,241,0.3);
        }
        .q-btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(99,102,241,0.4); }
        .q-btn-primary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .q-btn-secondary {
            background: white;
            color: #475569;
            border: 1px solid #d1d5db;
        }
        .q-btn-secondary:hover { background: #f8fafc; border-color: #6366f1; color: #6366f1; }
        .q-btn-danger {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fca5a5;
        }
        .q-btn-danger:hover { background: #fee2e2; }
        .q-btn-sm {
            padding: 5px 12px;
            font-size: 12px;
        }

        /* Empty state */
        .q-empty {
            text-align: center;
            padding: 48px 20px;
            color: #94a3b8;
        }
        .q-empty i { font-size: 36px; margin-bottom: 12px; display: block; }

        /* Hidden */
        .q-hidden { display: none !important; }

        /* ===== Daily1 Styles ===== */
        .d1-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        .d1-form-group {
            display: flex;
            flex-direction: column;
        }
        .d1-label {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
            margin-bottom: 6px;
        }
        .d1-required { color: #dc2626; }
        .d1-input, .d1-select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            box-sizing: border-box;
            transition: border-color 0.2s;
        }
        .d1-input:focus, .d1-select:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
        }

        /* Sentence rows */
        .d1-sentence-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        .d1-sentence-num {
            min-width: 28px;
            height: 28px;
            background: #6366f1;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            flex-shrink: 0;
        }
        .d1-sentence-row input {
            flex: 1;
            padding: 9px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            box-sizing: border-box;
        }
        .d1-sentence-row input:focus {
            outline: none;
            border-color: #6366f1;
        }
        .d1-del-btn {
            width: 30px;
            height: 30px;
            border: 1px solid #fca5a5;
            background: #fef2f2;
            color: #dc2626;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
            transition: background 0.2s;
        }
        .d1-del-btn:hover { background: #fee2e2; }

        /* Words table */
        .d1-words-header {
            display: flex;
            gap: 8px;
            padding: 8px 4px;
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 8px;
        }
        .d1-word-row {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-bottom: 8px;
        }
        .d1-word-row input {
            padding: 9px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            box-sizing: border-box;
        }
        .d1-word-row input:focus {
            outline: none;
            border-color: #6366f1;
        }
        .d1-word-row input:nth-child(1) { flex: 2; }
        .d1-word-row input:nth-child(2) { flex: 2; }
        .d1-word-row input:nth-child(3) { flex: 3; }

        /* Question section */
        .d1-q-section {
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 12px;
        }
        .d1-q-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 14px;
        }
        .d1-q-full {
            margin-bottom: 14px;
        }
        .d1-q-label {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
            margin-bottom: 5px;
        }
        .d1-radio-group {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }
        .d1-radio-label {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }
        .d1-radio-label:hover { border-color: #6366f1; }
        .d1-radio-label.selected {
            border-color: #22c55e;
            background: #f0fdf4;
            color: #16a34a;
        }
        .d1-radio-label input[type="radio"] {
            margin: 0;
            accent-color: #22c55e;
        }

        /* Option card */
        .d1-option-card {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 12px;
            transition: border-color 0.2s, background 0.2s;
        }
        .d1-option-card.correct {
            border-color: #22c55e;
            background: #f0fdf4;
        }
        .d1-option-card-header {
            font-size: 14px;
            font-weight: 700;
            color: #475569;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .d1-option-card.correct .d1-option-card-header {
            color: #16a34a;
        }
        .d1-option-label {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 26px;
            height: 26px;
            background: #6366f1;
            color: white;
            border-radius: 50%;
            font-size: 13px;
            font-weight: 700;
        }
        .d1-option-card.correct .d1-option-label {
            background: #22c55e;
        }

        /* Preview */
        .d1-preview {
            font-size: 14px;
            line-height: 1.8;
            color: #1e293b;
        }
        .d1-preview-section {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }
        .d1-preview-section:last-child { border-bottom: none; }
        .d1-preview-main-title {
            font-size: 16px;
            font-weight: 700;
            color: #6366f1;
            margin-bottom: 4px;
        }
        .d1-preview-passage-title {
            font-size: 15px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 12px;
        }
        .d1-preview-passage {
            font-family: 'Georgia', serif;
            font-size: 14px;
            line-height: 1.9;
            color: #374151;
            white-space: pre-wrap;
        }
        .d1-preview-tag {
            display: inline-block;
            background: #eef2ff;
            color: #6366f1;
            font-size: 12px;
            font-weight: 600;
            padding: 2px 10px;
            border-radius: 10px;
            margin-right: 4px;
        }

        @media (max-width: 768px) {
            .d1-form-row, .d1-q-row { grid-template-columns: 1fr; }
            .d1-radio-group { flex-wrap: wrap; }
            .d1-words-header { display: none; }
            .d1-word-row { flex-wrap: wrap; }
            .d1-word-row input { flex: 1 1 100% !important; }
        }

        /* ===== Block Input Styles (v2) ===== */
        .passage-block {
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 12px;
            background: #fafbfc;
            transition: border-color 0.2s;
        }
        .passage-block:hover {
            border-color: #cbd5e1;
        }
        .passage-block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .passage-block-num {
            font-weight: 700;
            font-size: 14px;
            color: #475569;
        }
        .passage-block-body {}
        .passage-block-text {
            width: 100%;
            min-height: 80px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', 'Georgia', serif;
            line-height: 1.7;
            resize: vertical;
            box-sizing: border-box;
            transition: border-color 0.2s;
        }
        .passage-block-text:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
        }
        .passage-block-check {
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 10px 0;
            font-size: 14px;
            color: #475569;
            cursor: pointer;
            user-select: none;
        }
        .passage-block-check input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #6366f1;
        }
        .passage-block-trans-wrap {
            margin-top: 8px;
        }
        .passage-block-trans-wrap.hidden {
            display: none;
        }
        .passage-block-trans {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            box-sizing: border-box;
            transition: border-color 0.2s;
        }
        .passage-block-trans:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
        }
    </style>
</head>
<body>
    <!-- Admin Navigation -->
    <nav class="admin-nav">
        <div class="container">
            <div class="admin-nav-brand">
                <i class="fas fa-shield-alt"></i>
                <span>ì´ì˜¨í† í”Œ ê´€ë¦¬ì</span>
            </div>
            <div class="admin-nav-menu">
                <a href="admin-dashboard.html" class="admin-nav-link">
                    <i class="fas fa-home"></i> ëŒ€ì‹œë³´ë“œ
                </a>
                <a href="admin-applications.html" class="admin-nav-link">
                    <i class="fas fa-clipboard-list"></i> ì‹ ì²­ì„œ ê´€ë¦¬
                </a>
                <a href="admin-study.html" class="admin-nav-link">
                    <i class="fas fa-book-reader"></i> í•™ìŠµ ê´€ë¦¬
                </a>
                <a href="admin-questions.html" class="admin-nav-link active">
                    <i class="fas fa-puzzle-piece"></i> ë¬¸ì œ ê´€ë¦¬
                </a>
                <a href="admin-users.html" class="admin-nav-link">
                    <i class="fas fa-users"></i> íšŒì› ê´€ë¦¬
                </a>
                <a href="admin-settings.html" class="admin-nav-link">
                    <i class="fas fa-cog"></i> ì‚¬ì´íŠ¸ ì„¤ì •
                </a>
                <a href="index.html" class="admin-nav-link">
                    <i class="fas fa-globe"></i> ì‚¬ì´íŠ¸ë¡œ
                </a>
                <div class="admin-nav-user" id="adminUser">
                    <i class="fas fa-user-circle"></i>
                    <span id="adminName">ê´€ë¦¬ì</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="q-layout">
        <div class="q-header">
            <h1>ğŸ§© ë¬¸ì œ ê´€ë¦¬</h1>
            <p>í…ŒìŠ¤íŠ¸ë£¸ì— ì¶œì œë˜ëŠ” ë¬¸ì œë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”</p>
        </div>

        <!-- Section Selector -->
        <div class="q-card">
            <select id="sectionSelect" class="q-section-select" onchange="onSectionChange()">
                <option value="" disabled>â”€â”€ ì„¹ì…˜ì„ ì„ íƒí•˜ì„¸ìš” â”€â”€</option>
                <option value="reading-fillblanks" selected>ğŸ“ Reading - Fill in the Blanks</option>
                <option value="reading-daily1">ğŸ“– Reading - Daily1</option>
                <option value="reading-daily2">ğŸ“– Reading - Daily2</option>
                <option value="reading-academic" disabled>ğŸ“– Reading - Academic (ì¤€ë¹„ì¤‘)</option>
                <option value="listening-response" disabled>ğŸ§ Listening - ì‘ë‹µê³ ë¥´ê¸° (ì¤€ë¹„ì¤‘)</option>
                <option value="listening-conversation" disabled>ğŸ§ Listening - ëŒ€í™” (ì¤€ë¹„ì¤‘)</option>
                <option value="listening-announcement" disabled>ğŸ§ Listening - ê³µì§€ì‚¬í•­ (ì¤€ë¹„ì¤‘)</option>
                <option value="listening-lecture" disabled>ğŸ§ Listening - ë ‰ì²˜ (ì¤€ë¹„ì¤‘)</option>
                <option value="writing-arrange" disabled>âœï¸ Writing - ë°°ì—´ (ì¤€ë¹„ì¤‘)</option>
                <option value="writing-email" disabled>âœï¸ Writing - ì´ë©”ì¼ (ì¤€ë¹„ì¤‘)</option>
                <option value="writing-discussion" disabled>âœï¸ Writing - í† ë¡  (ì¤€ë¹„ì¤‘)</option>
                <option value="speaking-repeat" disabled>ğŸ™ï¸ Speaking - ë”°ë¼ë§í•˜ê¸° (ì¤€ë¹„ì¤‘)</option>
                <option value="speaking-interview" disabled>ğŸ™ï¸ Speaking - ì¸í„°ë·° (ì¤€ë¹„ì¤‘)</option>
            </select>
        </div>

        <!-- Fill in the Blanks Section -->
        <div id="section-reading-fillblanks">
            <!-- Set ID -->
            <div class="q-card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div class="q-set-id">
                        <span class="label">ì„¸íŠ¸ ID:</span>
                        <span id="setId">ë¡œë”©ì¤‘...</span>
                    </div>
                    <div id="editModeLabel" class="q-hidden" style="background:#fef3c7; color:#d97706; padding:6px 14px; border-radius:8px; font-size:13px; font-weight:600;">
                        <i class="fas fa-edit"></i> ìˆ˜ì • ëª¨ë“œ
                    </div>
                </div>
            </div>

            <!-- Passage Input -->
            <div class="q-card">
                <div class="q-card-title"><i class="fas fa-file-alt" style="color:#6366f1;"></i> ì§€ë¬¸ ì…ë ¥</div>
                <textarea id="passageInput" class="q-textarea" placeholder="ë¹ˆì¹¸ì´ í¬í•¨ëœ ì˜ì–´ ì§€ë¬¸ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.&#10;&#10;ì˜ˆ: Social conformity is different fr_ _ simple imita_ _ _ _ , wh_ _ _ involves copying others' ac_ _ _ _ _ without deeper motivation." oninput="onPassageInput()"></textarea>
            </div>

            <!-- Detected Blanks -->
            <div id="blanksSection" class="q-card q-hidden">
                <div class="q-card-title">
                    <i class="fas fa-search" style="color:#6366f1;"></i> ê°ì§€ëœ ë¹ˆì¹¸
                    <span id="blanksSummary" class="q-blanks-summary"></span>
                </div>
                <div id="blanksTableWrap"></div>
            </div>

            <!-- Blank Detail Form -->
            <div id="detailSection" class="q-card q-hidden">
                <div class="q-detail-form">
                    <div class="q-detail-header">
                        <i class="fas fa-pencil-alt"></i>
                        ë¹ˆì¹¸ #<span id="detailIndex">1</span> ìƒì„¸ ì…ë ¥
                    </div>

                    <div class="q-detail-row">
                        <div>
                            <div class="q-detail-label">ì•ê¸€ì (prefix)</div>
                            <input type="text" id="detailPrefix" class="q-detail-input" readonly>
                        </div>
                        <div>
                            <div class="q-detail-label">ë¹ˆì¹¸ ìˆ˜</div>
                            <input type="text" id="detailBlankCount" class="q-detail-input" readonly>
                        </div>
                    </div>

                    <div class="q-detail-full">
                        <div class="q-detail-label">ì •ë‹µ (answer) <span style="color:#dc2626;">*</span></div>
                        <input type="text" id="detailAnswer" class="q-detail-input" placeholder="ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ê¸€ì" oninput="onAnswerInput()">
                        <div id="answerValidation" class="q-validation"></div>
                    </div>

                    <div class="q-detail-full">
                        <div class="q-detail-label">í•´ì„¤ (explanation) <span class="optional">ì„ íƒ</span></div>
                        <textarea id="detailExplanation" class="q-detail-textarea" placeholder="ë¬¸ì œ í’€ì´ í›„ ë³´ì—¬ì¤„ ì„¤ëª…"></textarea>
                    </div>

                    <div class="q-detail-row">
                        <div>
                            <div class="q-detail-label">ìì£¼ í‹€ë¦¬ëŠ” ë‹µ <span class="optional">ì„ íƒ</span></div>
                            <input type="text" id="detailMistakes" class="q-detail-input" placeholder="ì˜ˆ: imitating">
                        </div>
                        <div>
                            <div class="q-detail-label">ì˜¤ë‹µ ì„¤ëª… <span class="optional">ì„ íƒ</span></div>
                            <input type="text" id="detailMistakesExp" class="q-detail-input" placeholder="ì˜¤ë‹µì— ëŒ€í•œ ì„¤ëª…">
                        </div>
                    </div>

                    <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:8px;">
                        <button class="q-btn q-btn-secondary" onclick="saveBlankDetail()"><i class="fas fa-check"></i> ì €ì¥</button>
                        <button class="q-btn q-btn-secondary" onclick="closeDetail()"><i class="fas fa-times"></i> ë‹«ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- Preview -->
            <div id="previewSection" class="q-card q-hidden">
                <div class="q-card-title"><i class="fas fa-eye" style="color:#6366f1;"></i> ë¯¸ë¦¬ë³´ê¸° (í•™ìƒ í™”ë©´)</div>
                <div id="previewContent" class="q-preview-passage"></div>
            </div>

            <!-- Register Button -->
            <div id="registerSection" class="q-hidden" style="display:flex; gap:12px; justify-content:flex-end; margin-bottom:32px;">
                <button id="cancelEditBtn" class="q-btn q-btn-secondary q-hidden" onclick="cancelEdit()"><i class="fas fa-times"></i> ìˆ˜ì • ì·¨ì†Œ</button>
                <button id="registerBtn" class="q-btn q-btn-primary" onclick="registerSet()" disabled><i class="fas fa-upload"></i> ë“±ë¡í•˜ê¸°</button>
            </div>

            <!-- Existing Sets -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-list" style="color:#6366f1;"></i> ë“±ë¡ëœ ì„¸íŠ¸ ëª©ë¡</span>
                    <span id="setsCount" style="font-size:13px; color:#94a3b8; font-weight:400;"></span>
                </div>
                <div id="setsListWrap">
                    <div class="q-empty">
                        <i class="fas fa-spinner fa-spin"></i>
                        ë¡œë”© ì¤‘...
                    </div>
                </div>
            </div>
        </div>

        <!-- Daily1 Section -->
        <div id="section-reading-daily1" class="q-hidden">
            <!-- Set ID -->
            <div class="q-card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div class="q-set-id">
                        <span class="label">ì„¸íŠ¸ ID:</span>
                        <span id="d1SetId">ë¡œë”©ì¤‘...</span>
                    </div>
                    <div id="d1EditModeLabel" class="q-hidden" style="background:#fef3c7; color:#d97706; padding:6px 14px; border-radius:8px; font-size:13px; font-weight:600;">
                        <i class="fas fa-edit"></i> ìˆ˜ì • ëª¨ë“œ
                    </div>
                </div>
            </div>

            <!-- Main Title -->
            <div class="q-card">
                <div class="q-card-title"><i class="fas fa-heading" style="color:#6366f1;"></i> ê¸°ë³¸ ì •ë³´</div>
                <div class="d1-form-row">
                    <div class="d1-form-group">
                        <label class="d1-label">ìƒë‹¨ ì œëª© <span class="d1-required">*</span></label>
                        <select id="d1MainTitleSelect" class="d1-select" onchange="onD1MainTitleChange()">
                            <option value="" disabled selected>ìƒë‹¨ ì œëª©ì„ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="Read a notice.">Read a notice.</option>
                            <option value="Read an email.">Read an email.</option>
                            <option value="Read an advertisement.">Read an advertisement.</option>
                            <option value="Read an article.">Read an article.</option>
                            <option value="__custom__">âœï¸ ì§ì ‘ ì…ë ¥</option>
                        </select>
                        <input type="text" id="d1MainTitleCustom" class="d1-input q-hidden" placeholder="ìƒë‹¨ ì œëª©ì„ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”" oninput="updateD1RegisterBtn()">
                    </div>
                    <div class="d1-form-group">
                        <label class="d1-label">ì§€ë¬¸ ì œëª© <span class="d1-required">*</span></label>
                        <input type="text" id="d1PassageTitle" class="d1-input" placeholder="ì§€ë¬¸ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: Library Renovation Notice)" oninput="updateD1RegisterBtn()">
                    </div>
                </div>
            </div>

            <!-- â‘£+â‘¤ ì§€ë¬¸ ë¸”ë¡ ì…ë ¥ (v2) -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-file-alt" style="color:#6366f1;"></i> ì§€ë¬¸ ë¸”ë¡ ì…ë ¥ <span class="d1-required">*</span></span>
                    <span id="d1BlockCount" style="font-size:13px; color:#94a3b8; font-weight:400;">(0ê°œ)</span>
                </div>
                <div id="d1BlockList">
                    <!-- ë™ì  ë¸”ë¡ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë¨ -->
                </div>
                <button type="button" class="q-btn q-btn-secondary" onclick="addD1Block()" style="margin-top:10px;">
                    <i class="fas fa-plus"></i> ë¸”ë¡ ì¶”ê°€
                </button>
            </div>

            <!-- Interactive Words -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-spell-check" style="color:#6366f1;"></i> í•µì‹¬ ë‹¨ì–´ <span class="d1-required">*</span></span>
                    <span id="d1WordCount" style="font-size:13px; color:#94a3b8; font-weight:400;"></span>
                </div>
                <div class="d1-words-header">
                    <span style="flex:2;">ë‹¨ì–´ *</span>
                    <span style="flex:2;">ëœ» *</span>
                    <span style="flex:3;">ì„¤ëª… (ì„ íƒ)</span>
                    <span style="width:36px;"></span>
                </div>
                <div id="d1WordList"></div>
                <button class="q-btn q-btn-secondary" onclick="addD1Word()" style="margin-top:10px;">
                    <i class="fas fa-plus"></i> ë‹¨ì–´ ì¶”ê°€
                </button>
            </div>

            <!-- Question 1 -->
            <div class="q-card">
                <div class="q-card-title"><i class="fas fa-question-circle" style="color:#6366f1;"></i> ë¬¸ì œ 1 <span class="d1-required">*</span></div>
                <div id="d1Question1"></div>
            </div>

            <!-- Question 2 -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-question-circle" style="color:#94a3b8;"></i> ë¬¸ì œ 2 <span style="font-size:12px; color:#94a3b8; font-weight:400;">(ì„ íƒ)</span></span>
                    <button id="d1Q2ToggleBtn" class="q-btn q-btn-secondary q-btn-sm" onclick="toggleD1Question2()">
                        <i class="fas fa-plus"></i> ë¬¸ì œ 2 ì¶”ê°€
                    </button>
                </div>
                <div id="d1Question2" class="q-hidden"></div>
            </div>

            <!-- Preview -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-eye" style="color:#6366f1;"></i> ë¯¸ë¦¬ë³´ê¸°</span>
                    <button class="q-btn q-btn-secondary q-btn-sm" onclick="renderD1Preview()">
                        <i class="fas fa-sync-alt"></i> ê°±ì‹ 
                    </button>
                </div>
                <div id="d1PreviewContent" style="padding:16px 0; color:#94a3b8; font-size:14px;">ì…ë ¥ê°’ì„ ì±„ìš°ë©´ ë¯¸ë¦¬ë³´ê¸°ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>
            </div>

            <!-- Register Button -->
            <div style="display:flex; gap:12px; justify-content:flex-end; margin-bottom:32px;">
                <button id="d1CancelEditBtn" class="q-btn q-btn-secondary q-hidden" onclick="cancelD1Edit()"><i class="fas fa-times"></i> ìˆ˜ì • ì·¨ì†Œ</button>
                <button id="d1RegisterBtn" class="q-btn q-btn-primary" onclick="registerD1Set()" disabled><i class="fas fa-upload"></i> ë“±ë¡í•˜ê¸°</button>
            </div>

            <!-- Existing Sets -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-list" style="color:#6366f1;"></i> ë“±ë¡ëœ ì„¸íŠ¸ ëª©ë¡</span>
                    <span id="d1SetsCount" style="font-size:13px; color:#94a3b8; font-weight:400;"></span>
                </div>
                <div id="d1SetsListWrap">
                    <div class="q-empty">
                        <i class="fas fa-spinner fa-spin"></i>
                        ë¡œë”© ì¤‘...
                    </div>
                </div>
            </div>
        </div>

        <!-- Daily2 Section -->
        <div id="section-reading-daily2" class="q-hidden">
            <!-- Set ID -->
            <div class="q-card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div class="q-set-id">
                        <span class="label">ì„¸íŠ¸ ID:</span>
                        <span id="d2SetId">ë¡œë”©ì¤‘...</span>
                    </div>
                    <div id="d2EditModeLabel" class="q-hidden" style="background:#fef3c7; color:#d97706; padding:6px 14px; border-radius:8px; font-size:13px; font-weight:600;">
                        <i class="fas fa-edit"></i> ìˆ˜ì • ëª¨ë“œ
                    </div>
                </div>
            </div>

            <!-- Main Title -->
            <div class="q-card">
                <div class="q-card-title"><i class="fas fa-heading" style="color:#6366f1;"></i> ê¸°ë³¸ ì •ë³´</div>
                <div class="d1-form-row">
                    <div class="d1-form-group">
                        <label class="d1-label">ìƒë‹¨ ì œëª© <span class="d1-required">*</span></label>
                        <select id="d2MainTitleSelect" class="d1-select" onchange="onD2MainTitleChange()">
                            <option value="" disabled selected>ìƒë‹¨ ì œëª©ì„ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="Read a notice.">Read a notice.</option>
                            <option value="Read an email.">Read an email.</option>
                            <option value="Read an advertisement.">Read an advertisement.</option>
                            <option value="Read an article.">Read an article.</option>
                            <option value="Read a text chain.">Read a text chain.</option>
                            <option value="Read a post.">Read a post.</option>
                            <option value="Read a memo.">Read a memo.</option>
                            <option value="__custom__">âœï¸ ì§ì ‘ ì…ë ¥</option>
                        </select>
                        <input type="text" id="d2MainTitleCustom" class="d1-input q-hidden" placeholder="ìƒë‹¨ ì œëª©ì„ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”" oninput="updateD2RegisterBtn()">
                    </div>
                    <div class="d1-form-group">
                        <label class="d1-label">ì§€ë¬¸ ì œëª© <span class="d1-required">*</span></label>
                        <input type="text" id="d2PassageTitle" class="d1-input" placeholder="ì§€ë¬¸ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: Parking Lot Resurfacing)" oninput="updateD2RegisterBtn()">
                    </div>
                </div>
            </div>

            <!-- â‘£+â‘¤ ì§€ë¬¸ ë¸”ë¡ ì…ë ¥ (v2) -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-file-alt" style="color:#6366f1;"></i> ì§€ë¬¸ ë¸”ë¡ ì…ë ¥ <span class="d1-required">*</span></span>
                    <span id="d2BlockCount" style="font-size:13px; color:#94a3b8; font-weight:400;">(0ê°œ)</span>
                </div>
                <div id="d2BlockList">
                    <!-- ë™ì  ë¸”ë¡ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë¨ -->
                </div>
                <button type="button" class="q-btn q-btn-secondary" onclick="addD2Block()" style="margin-top:10px;">
                    <i class="fas fa-plus"></i> ë¸”ë¡ ì¶”ê°€
                </button>
            </div>

            <!-- Interactive Words -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-spell-check" style="color:#6366f1;"></i> í•µì‹¬ ë‹¨ì–´ <span class="d1-required">*</span></span>
                    <span id="d2WordCount" style="font-size:13px; color:#94a3b8; font-weight:400;"></span>
                </div>
                <div class="d1-words-header">
                    <span style="flex:2;">ë‹¨ì–´ *</span>
                    <span style="flex:2;">ëœ» *</span>
                    <span style="flex:3;">ì„¤ëª… (ì„ íƒ)</span>
                    <span style="width:36px;"></span>
                </div>
                <div id="d2WordList"></div>
                <button class="q-btn q-btn-secondary" onclick="addD2Word()" style="margin-top:10px;">
                    <i class="fas fa-plus"></i> ë‹¨ì–´ ì¶”ê°€
                </button>
            </div>

            <!-- Question 1 (í•„ìˆ˜) -->
            <div class="q-card">
                <div class="q-card-title"><i class="fas fa-question-circle" style="color:#6366f1;"></i> ë¬¸ì œ 1 <span class="d1-required">*</span></div>
                <div id="d2Question1"></div>
            </div>

            <!-- Question 2 (í•„ìˆ˜) -->
            <div class="q-card">
                <div class="q-card-title"><i class="fas fa-question-circle" style="color:#6366f1;"></i> ë¬¸ì œ 2 <span class="d1-required">*</span></div>
                <div id="d2Question2"></div>
            </div>

            <!-- Question 3 (ì„ íƒ) -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-question-circle" style="color:#94a3b8;"></i> ë¬¸ì œ 3 <span style="font-size:12px; color:#94a3b8; font-weight:400;">(ì„ íƒ)</span></span>
                    <button id="d2Q3ToggleBtn" class="q-btn q-btn-secondary q-btn-sm" onclick="toggleD2Question3()">
                        <i class="fas fa-plus"></i> ë¬¸ì œ 3 ì¶”ê°€
                    </button>
                </div>
                <div id="d2Question3" class="q-hidden"></div>
            </div>

            <!-- Preview -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-eye" style="color:#6366f1;"></i> ë¯¸ë¦¬ë³´ê¸°</span>
                    <button class="q-btn q-btn-secondary q-btn-sm" onclick="renderD2Preview()">
                        <i class="fas fa-sync-alt"></i> ê°±ì‹ 
                    </button>
                </div>
                <div id="d2PreviewContent" style="padding:16px 0; color:#94a3b8; font-size:14px;">ì…ë ¥ê°’ì„ ì±„ìš°ë©´ ë¯¸ë¦¬ë³´ê¸°ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>
            </div>

            <!-- Register Button -->
            <div style="display:flex; gap:12px; justify-content:flex-end; margin-bottom:32px;">
                <button id="d2CancelEditBtn" class="q-btn q-btn-secondary q-hidden" onclick="cancelD2Edit()"><i class="fas fa-times"></i> ìˆ˜ì • ì·¨ì†Œ</button>
                <button id="d2RegisterBtn" class="q-btn q-btn-primary" onclick="registerD2Set()" disabled><i class="fas fa-upload"></i> ë“±ë¡í•˜ê¸°</button>
            </div>

            <!-- Existing Sets -->
            <div class="q-card">
                <div class="q-card-title" style="justify-content:space-between;">
                    <span><i class="fas fa-list" style="color:#6366f1;"></i> ë“±ë¡ëœ ì„¸íŠ¸ ëª©ë¡</span>
                    <span id="d2SetsCount" style="font-size:13px; color:#94a3b8; font-weight:400;"></span>
                </div>
                <div id="d2SetsListWrap">
                    <div class="q-empty">
                        <i class="fas fa-spinner fa-spin"></i>
                        ë¡œë”© ì¤‘...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/supabase-config.js"></script>
    <script src="js/admin-utils.js"></script>
    <script src="js/admin-questions.js"></script>
    <script src="js/admin-questions-daily1.js"></script>
    <script src="js/admin-questions-daily2.js"></script>
</body>
</html>
